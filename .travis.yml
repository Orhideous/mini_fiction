language: python
cache:
  directories:
    - $HOME/.cache/pip
before_cache:
  - rm -f $HOME/.cache/pip/log/debug.log
python:
  - "3.4"
  - "3.5"
install:
  - pip install -r requirements.txt
  - pip install -r optional-requirements.txt
  - pip install -r test-requirements.txt
  - pip install -e .
  - pybabel compile -d mini_fiction/translations
env:
  - PYTHONPATH=. MINIFICTION_SETTINGS=mini_fiction.settings.Test
script:
  - python setup.py test
